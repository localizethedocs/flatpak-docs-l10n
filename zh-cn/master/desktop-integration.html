<!doctype html>
<html class="no-js" lang="zh-CN" data-content_root="./">
  <head><meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="Desktop Integration" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://docs.flatpak.org/en/desktop-integration.html" />
<meta property="og:site_name" content="Flatpak" />
<meta property="og:description" content="Requirements &amp; Conventions covers the essential aspects of Linux desktop integration. This page provides further information on optional desktop integration features. It also provides guidance ..." />
<meta property="og:image:width" content="1146" />
<meta property="og:image:height" content="600" />
<meta property="og:image" content="https://docs.flatpak.org/en/latest/_images/social_previews/summary_desktop-integration_3140691b.png" />
<meta property="og:image:alt" content="Requirements &amp; Conventions covers the essential aspects of Linux desktop integration. This page provides further information on optional desktop integration features. It also provides guidance ..." />
<meta name="description" content="Requirements &amp; Conventions covers the essential aspects of Linux desktop integration. This page provides further information on optional desktop integration features. It also provides guidance ..." />
<meta name="twitter:card" content="summary_large_image" />
<link rel="index" title="ç´¢å¼•" href="genindex.html"><link rel="search" title="æœç´¢" href="search.html"><link rel="next" title="Portal support in GTK" href="portals.html"><link rel="prev" title="USB Drives" href="usb-drives.html">
        <link rel="canonical" href="https://projects.localizethedocs.org/flatpak-docs-l10n/desktop-integration.html">

    <link rel="shortcut icon" href="_static/favicon.ico"><!-- Generated with Sphinx 8.1.3 and Furo 2025.12.19 -->
        <title>Desktop Integration - Flatpak æ–‡æ¡£</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=7bdb33bb" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=8dab3a3b" />
    <link rel="stylesheet" type="text/css" href="_static/xdg.css?v=d059aca2" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style>

<script type="text/javascript" src="ltd-provenance.js"></script>
<script type="text/javascript" src="ltd-current.js"></script>
<script type="text/javascript" src="../../ltd-config.js"></script>
<script type="text/javascript" src="../../ltd-flyout.js"></script>
</head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle site navigation sidebar">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc" aria-label="Toggle table of contents sidebar">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <span class="icon"><svg><use href="#svg-menu"></use></svg></span>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">Flatpak  æ–‡æ¡£</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  <span class="sidebar-brand-text">Flatpak  æ–‡æ¡£</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="æœç´¢" name="q" aria-label="æœç´¢">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction to Flatpak</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="getting-started.html">Getting Started</a><input aria-label="Toggle navigation of Getting Started" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="basic-concepts.html">Basic concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="using-flatpak.html">Using Flatpak</a></li>
<li class="toctree-l2"><a class="reference internal" href="first-build.html">Building your first Flatpak</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="building.html">Building</a><input aria-label="Toggle navigation of Building" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="building-introduction.html">Building Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="conventions.html">Requirements &amp; Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="dependencies.html">Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="flatpak-builder.html">Flatpak Builder</a></li>
<li class="toctree-l2"><a class="reference internal" href="manifests.html">Manifests</a></li>
<li class="toctree-l2"><a class="reference internal" href="module-sources.html">Module Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="sandbox-permissions.html">Sandbox Permissions</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="guides.html">Guides</a><input aria-label="Toggle navigation of Guides" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="python.html">Python</a></li>
<li class="toctree-l3"><a class="reference internal" href="electron.html">Electron</a></li>
<li class="toctree-l3"><a class="reference internal" href="dotnet.html">Dotnet</a></li>
<li class="toctree-l3"><a class="reference internal" href="qt.html">Qt</a></li>
<li class="toctree-l3"><a class="reference internal" href="multiarch.html">Multiarch support</a></li>
<li class="toctree-l3"><a class="reference internal" href="extension.html">Extensions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="debugging.html">Debugging</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="publishing.html">Publishing</a><input aria-label="Toggle navigation of Publishing" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="repositories.html">Repositories</a></li>
<li class="toctree-l2"><a class="reference internal" href="hosting-a-repository.html">Hosting a repository</a></li>
<li class="toctree-l2"><a class="reference internal" href="single-file-bundles.html">Single-file bundles</a></li>
<li class="toctree-l2"><a class="reference internal" href="usb-drives.html">USB Drives</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children current-page"><a class="current reference internal" href="#">Desktop Integration</a><input aria-label="Toggle navigation of Desktop Integration" checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="portals.html">Portal support in GTK</a></li>
<li class="toctree-l2"><a class="reference internal" href="portals.html#portal-support-in-qt-and-kde">Portal support in Qt and KDE</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="flatpak-devel.html">Flatpak as a developer platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="tips-and-tricks.html">Tips and Tricks</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="reference.html">Reference Documentation</a><input aria-label="Toggle navigation of Reference Documentation" class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="flatpak-command-reference.html">Flatpak Command Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="flatpak-builder-command-reference.html">Flatpak Builder Command Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="available-runtimes.html">Available Runtimes</a></li>
<li class="toctree-l2"><a class="reference internal" href="under-the-hood.html">Under the Hood</a></li>
<li class="toctree-l2"><a class="reference internal" href="libflatpak-api-reference.html">libflatpak API Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="portal-api-reference.html">Portal API Reference</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="https://github.com/flatpak/flatpak-docs/blob/master/docs/desktop-integration.rst?plain=true" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div><div class="edit-this-page">
  <a class="muted-link" href="https://github.com/flatpak/flatpak-docs/edit/master/docs/desktop-integration.rst" rel="edit" title="Edit this page">
    <svg><use href="#svg-pencil"></use></svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="desktop-integration">
<h1>Desktop Integration<a class="headerlink" href="#desktop-integration" title="Link to this heading">ðŸ”—</a></h1>
<p><a class="reference internal" href="conventions.html"><span class="doc">Requirements &amp; Conventions</span></a> covers the essential aspects of Linux desktop
integration. This page provides further information on optional desktop
integration features. It also provides guidance on how applications can
ensure that their user interfaces fit into the whole range of Linux desktops
and distributions.</p>
<p>This information is primarily intended for developers who are new to
Linux. However, it is also relevant to desktop-specific Linux applications
seeking to target a broader range of Linux environments.</p>
<p>While targeting the Linux desktop ecosystem might seem challenging, the
existence of common standards, in combination with these guidelines, means
that supporting the full range of Linux environments needn't be difficult.</p>
<section id="locale-detection">
<h2>Locale detection<a class="headerlink" href="#locale-detection" title="Link to this heading">ðŸ”—</a></h2>
<p>Application toolkits, such as Electron, GTK and Qt, provide built-in support
for detecting which locale to use. Otherwise, the <code class="docutils literal notranslate"><span class="pre">setlocale</span></code> function
can be used.</p>
</section>
<section id="portals">
<h2>Portals<a class="headerlink" href="#portals" title="Link to this heading">ðŸ”—</a></h2>
<p>Portals are the framework for securely accessing resources from outside an
application sandbox. They provide a range of common features to applications,
including:</p>
<ul class="simple">
<li><p>Determining network status</p></li>
<li><p>Opening a file with a file chooser</p></li>
<li><p>Opening URIs</p></li>
<li><p>Preventing the device from suspending, sleeping, or powering off</p></li>
<li><p>Printing</p></li>
<li><p>Sending email</p></li>
<li><p>Showing notifications</p></li>
<li><p>Taking screenshots and screencasts</p></li>
</ul>
<p>Toolkits like GTK and Qt provide transparent support for portals.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="portals.html">Portal support in GTK</a></li>
<li class="toctree-l1"><a class="reference internal" href="portals.html#portal-support-in-qt-and-kde">Portal support in Qt and KDE</a></li>
</ul>
</div>
<p>If you are not using one of these toolkits, it is possible to access
the portal API directly. See <a class="reference external" href="https://flatpak.github.io/xdg-desktop-portal/">XDG Desktop Portal</a> for more
information.</p>
</section>
<section id="notifications">
<h2>Notifications<a class="headerlink" href="#notifications" title="Link to this heading">ðŸ”—</a></h2>
<p>A number of toolkits and frameworks provide transparent support for Linux
desktop notifications. These include Electron, GTK, KDE and QML.</p>
</section>
<section id="status-icons">
<h2>Status icons<a class="headerlink" href="#status-icons" title="Link to this heading">ðŸ”—</a></h2>
<p>Status icons are similar to the system tray or taskbar on Windows,
or menu bar icons on macOS. These are supported on most Linux distributions
through abstractions such as libappindicator.</p>
<p>A number of Linux distributions don't show status icons. It is still possible
to provide a status icon, and it will be shown in some distributions. However,
to ensure compatibility, it is recommended to use status icons only
in a supplementary manner, rather than relying on them as the only mechanism for
providing status information or access to particular features. These include
&quot;minimize to tray&quot; (or equivalent) functionality.</p>
<p>XEmbed style icons will function on desktops that support them with the
<code class="docutils literal notranslate"><span class="pre">x11</span></code> permission.</p>
<section id="statusnotifier">
<h3>StatusNotifier<a class="headerlink" href="#statusnotifier" title="Link to this heading">ðŸ”—</a></h3>
<p>StatusNotifier style icons will not function without extra permissions, as they
require talking to a non-hardened host service. Risks include impersonation of
other softwares and exploitation of bugs in host services such as image decoders.</p>
<p>To use StatusNotifier, you must at least have the
<code class="docutils literal notranslate"><span class="pre">--talk-name=org.kde.StatusNotifierWatcher</span></code> permission to register an item.</p>
<p>Depending on the exact implementation of StatusNotifier that your application is
using, it may need session bus ownership of <code class="docutils literal notranslate"><span class="pre">org.kde.StatusNotifierItem-$PID-$ITEM_ID</span></code>.</p>
<p>This permission is problematic in Flatpak as the <code class="docutils literal notranslate"><span class="pre">$PID</span></code> value is often the same
in sandboxes, leading to potential conflicts with other applications.
However, if needed, the <code class="docutils literal notranslate"><span class="pre">--own-name=org.kde.*</span></code> permission will allow this.</p>
<div class="admonition warning">
<p class="admonition-title">è­¦å‘Š</p>
<p>This introduces many new risks, including the ability to impersonate any KDE
service or application, possibly capturing important user data.</p>
</div>
<p>Most implementations of StatusNotifier have dropped this requirement, but known exceptions
include Electron versions older than 23.3.0.</p>
<p>Current versions of Electron, Chromium, KNotifications, and libappindicator are known
to work without ownership permissions.</p>
</section>
</section>
<section id="system-search">
<h2>System search<a class="headerlink" href="#system-search" title="Link to this heading">ðŸ”—</a></h2>
<p>GNOME-based distributions, like CentOS, Fedora, Red Hat Enterprise Linux and
Ubuntu, offer the option to integrate with system search by providing a
<a class="reference external" href="https://developer.gnome.org/documentation/tutorials/search-provider.html">search provider</a>. This allows
application-provided search results to appear in the Activities Overview.</p>
</section>
<section id="window-controls">
<h2>Window controls<a class="headerlink" href="#window-controls" title="Link to this heading">ðŸ”—</a></h2>
<p>Window controls are the buttons used to close, maximize and minimize
windows. These vary across Linux desktops, particularly in terms of which
controls are shown. Whether applications follow these variations
is at their discretion. Providing the exact same controls as used by a
particular desktop environment should not be seen as a hard requirement.</p>
<p>From a user experience perspective, it is important to ensure that window
controls appear on the same side of the window as in other desktop applications. On Linux,
this is the right side of the window (like Windows).</p>
<p>On X11, applications can rely on system-provided title bars if they don't
want to draw their own window controls. For a consistent Wayland experience,
applications must always provide their own. Typically, toolkits handle this,
but raw Wayland clients can use <a class="reference external" href="https://gitlab.freedesktop.org/libdecor/libdecor">libdecor</a> for a
general solution.</p>
</section>
<section id="window-decorations">
<h2>Window decorations<a class="headerlink" href="#window-decorations" title="Link to this heading">ðŸ”—</a></h2>
<p>If your application uses a dark visual style as well as system-provided window
decorations, the <code class="docutils literal notranslate"><span class="pre">GTK_THEME_VARIANT=dark</span></code> X11 window property should be
used to ensure that window decorations match the rest of the application
window. This can be done by running:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xprop</span> <span class="o">-</span><span class="n">f</span> <span class="n">_GTK_THEME_VARIANT</span> <span class="mi">8</span><span class="n">u</span> <span class="o">-</span><span class="nb">set</span> <span class="n">_GTK_THEME_VARIANT</span> <span class="n">dark</span>
</pre></div>
</div>
</section>
<section id="global-menus">
<h2>Global menus<a class="headerlink" href="#global-menus" title="Link to this heading">ðŸ”—</a></h2>
<p>If your application uses <a class="reference external" href="https://docs.gtk.org/gtk4/class.Application.html#properties">Gtk.Application:menubar</a> or <a class="reference external" href="https://doc.qt.io/qt-6/qmenubar.html">QMenuBar</a>
it will work as expected within a sandboxed application.</p>
</section>
<section id="theming">
<h2>Theming<a class="headerlink" href="#theming" title="Link to this heading">ðŸ”—</a></h2>
<p>Flatpak applications cannot directly use the system theme from the host
as the <code class="docutils literal notranslate"><span class="pre">/usr</span></code> directory inside the sandbox is reserved by the runtime,
and host's <code class="docutils literal notranslate"><span class="pre">/usr</span></code> where system themes are typically stored cannot be
made available over that. Additionally, themes often depend on
specific toolkit versions, which may differ between the host and the
runtime. Relying on the host to have the correct version for every
flatpak also defeats the portability benefits Flatpak provides.</p>
<p>The solution to this is to package the themes as flatpaks. These themes
are provided as <a class="reference internal" href="extension.html"><span class="doc">Extensions</span></a> to the Freedesktop runtime for Gtk3
themes and to the KDE runtime for Qt themes.</p>
<p>The theming system requires Flatpak 0.8.4+ and applications using
up-to-date <code class="docutils literal notranslate"><span class="pre">org.gnome.Platform</span></code> 3.24+, <code class="docutils literal notranslate"><span class="pre">org.freedesktop.Platform</span></code> 1.6+,
or <code class="docutils literal notranslate"><span class="pre">org.kde.Platform</span></code> 5.9+.</p>
<section id="installing-themes">
<h3>Installing themes<a class="headerlink" href="#installing-themes" title="Link to this heading">ðŸ”—</a></h3>
<section id="instructions-for-gtk-themes">
<h4>Instructions for Gtk themes<a class="headerlink" href="#instructions-for-gtk-themes" title="Link to this heading">ðŸ”—</a></h4>
<p>As of Flatpak 0.10.1, Flatpak can automatically detect the active Gtk
theme on the host by reading the value of the <code class="docutils literal notranslate"><span class="pre">gtk-theme</span></code> DConf key.</p>
<p>If the corresponding theme is packaged as an extension in the remote,
Flatpak will automatically install it during <code class="docutils literal notranslate"><span class="pre">flatpak</span> <span class="pre">install</span></code> or
<code class="docutils literal notranslate"><span class="pre">flatpak</span> <span class="pre">update</span></code>.</p>
</section>
<section id="instructions-for-qt-themes">
<h4>Instructions for Qt themes<a class="headerlink" href="#instructions-for-qt-themes" title="Link to this heading">ðŸ”—</a></h4>
<p>There are a few Qt theme extensions packaged on Flathub. To see a list,
you can run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ flatpak remote-ls --columns=application flathub | grep org.kde.KStyle
</pre></div>
</div>
<p>Then you can install the theme with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ flatpak install flathub org.kde.KStyle.Foo
</pre></div>
</div>
<p>replacing <code class="docutils literal notranslate"><span class="pre">Foo</span></code> with the name of the desired theme. The theme needs
to be available for the KDE runtime branch used by the application.</p>
</section>
<section id="gtk-look-and-feel-in-qt-applications">
<h4>Gtk look and feel in Qt applications<a class="headerlink" href="#gtk-look-and-feel-in-qt-applications" title="Link to this heading">ðŸ”—</a></h4>
<p>On Wayland, starting from the 5.15-22.08+ and 6.5+ branches of the <code class="docutils literal notranslate"><span class="pre">org.kde.Platform</span></code> runtime,
<code class="docutils literal notranslate"><span class="pre">org.kde.WaylandDecoration.QAdwaitaDecorations</span></code> and
<code class="docutils literal notranslate"><span class="pre">org.kde.WaylandDecoration.QGnomePlatform-decoration</span></code> need to be
installed. Please see the upstream <a class="reference external" href="https://github.com/FedoraQt/QAdwaitaDecorations?tab=readme-ov-file#usage">usage</a>
instructions as well.</p>
<p>These plugins will be part of upstream starting at Qt 6.8.</p>
<p>For older runtimes, <code class="docutils literal notranslate"><span class="pre">org.kde.PlatformTheme.QGnomePlatform</span></code> and
<code class="docutils literal notranslate"><span class="pre">org.kde.WaylandDecoration.QGnomePlatform-decoration</span></code> need to be
installed.</p>
</section>
</section>
<section id="applying-themes">
<h3>Applying themes<a class="headerlink" href="#applying-themes" title="Link to this heading">ðŸ”—</a></h3>
<p>The prerequisite for applying themes in Flatpak is to have the theme
available to the application in the sandbox, commonly done by packaging
them as theme extensions.</p>
<p>Now the system theme needs to be communicated from the host to the sandbox.</p>
<p>On X11, Gtk3 picks up themes from XSettings. Specifically, on GNOME, the
GNOME XSettings daemon <code class="docutils literal notranslate"><span class="pre">gsd-xsettings</span></code> reads the DConf values and
converts them into XSettings values. On GNOME, this should work by default,
provided <code class="docutils literal notranslate"><span class="pre">gsd-xsettings</span></code> is running.</p>
<p>On Wayland, the active theme is exposed via the corresponding Settings
portal. This requires the portal backend for the desktop environment to
be installed.</p>
<p>Once the theme is installed and exposed in the sandbox, it will be
automatically applied, depending on the toolkit or libraries used by the
application.</p>
<p>If the theme is not available via Flatpak extensions, or either the Settings portal
or XSettings support is lacking, Gtk and Qt applications will fall back
to using Adwaita or the default Qt theme.</p>
<p>In that case, either the theme needs to be packaged as an extension,
or the application needs to have permission to read the theme and Gtk or
Qt settings from the host, usually by giving it filesystem access. This
is undesirable in most cases, as it weakens the sandbox and reduces
portability. Instead, desktop environments should provide proper support for
the Settings portal or XSettings daemon.</p>
<p>If a Gtk theme is not packaged as an extension, an unmaintained extension
can be created for it. Please see
<a class="reference internal" href="extension.html#creating-an-unmaintained-gtk-theme-extension"><span class="std std-ref">Creating an unmaintained Gtk theme extension</span></a>.</p>
</section>
<section id="appearance-settings">
<h3>Appearance Settings<a class="headerlink" href="#appearance-settings" title="Link to this heading">ðŸ”—</a></h3>
<p>Appearance settings, such as the Freedesktop color-scheme preference, are
also exposed similarly via the respective Settings portal. The
application needs to support reading it, and the proper portal backends
need to be installed for this to work.</p>
</section>
</section>
<section id="icons">
<h2>Icons<a class="headerlink" href="#icons" title="Link to this heading">ðŸ”—</a></h2>
<p>Since Flatpak 0.8.8, host icons from <code class="docutils literal notranslate"><span class="pre">/usr/share/icons</span></code> are exposed
in the sandbox at <code class="docutils literal notranslate"><span class="pre">/run/host/share/icons</span></code> and <code class="docutils literal notranslate"><span class="pre">$XDG_DATA_HOME/icons</span></code>
in <code class="docutils literal notranslate"><span class="pre">/run/host/user-share/icons</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">~/.icons</span></code> is a legacy path and should not be used.</p>
</section>
<section id="fonts">
<h2>Fonts<a class="headerlink" href="#fonts" title="Link to this heading">ðŸ”—</a></h2>
<p>Flatpak exposes fonts from the host to the sandbox, and the runtime ships
the default fontconfig from upstream.</p>
<p>Fonts from <code class="docutils literal notranslate"><span class="pre">/usr/share/fonts</span></code> are exposed at <code class="docutils literal notranslate"><span class="pre">/run/host/fonts</span></code>,
from <code class="docutils literal notranslate"><span class="pre">/usr/local/share/fonts</span></code> at <code class="docutils literal notranslate"><span class="pre">/run/host/local-fonts</span></code>,
and from <code class="docutils literal notranslate"><span class="pre">$XDG_DATA_HOME/fonts</span></code> at <code class="docutils literal notranslate"><span class="pre">/run/host/user-fonts</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">~/.fonts</span></code> is a legacy path and should not be used.</p>
<p>Fontconfig config files from the host are not exposed.</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="portals.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Portal support in GTK</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="usb-drives.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">USB Drives</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2017-2025, Flatpak Team. Licensed under Creative Commons Attribution 4.0 International License.
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Desktop Integration</a><ul>
<li><a class="reference internal" href="#locale-detection">Locale detection</a></li>
<li><a class="reference internal" href="#portals">Portals</a></li>
<li><a class="reference internal" href="#notifications">Notifications</a></li>
<li><a class="reference internal" href="#status-icons">Status icons</a><ul>
<li><a class="reference internal" href="#statusnotifier">StatusNotifier</a></li>
</ul>
</li>
<li><a class="reference internal" href="#system-search">System search</a></li>
<li><a class="reference internal" href="#window-controls">Window controls</a></li>
<li><a class="reference internal" href="#window-decorations">Window decorations</a></li>
<li><a class="reference internal" href="#global-menus">Global menus</a></li>
<li><a class="reference internal" href="#theming">Theming</a><ul>
<li><a class="reference internal" href="#installing-themes">Installing themes</a><ul>
<li><a class="reference internal" href="#instructions-for-gtk-themes">Instructions for Gtk themes</a></li>
<li><a class="reference internal" href="#instructions-for-qt-themes">Instructions for Qt themes</a></li>
<li><a class="reference internal" href="#gtk-look-and-feel-in-qt-applications">Gtk look and feel in Qt applications</a></li>
</ul>
</li>
<li><a class="reference internal" href="#applying-themes">Applying themes</a></li>
<li><a class="reference internal" href="#appearance-settings">Appearance Settings</a></li>
</ul>
</li>
<li><a class="reference internal" href="#icons">Icons</a></li>
<li><a class="reference internal" href="#fonts">Fonts</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=7d86a446"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=46bd48cc"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/translations.js?v=beaddf03"></script>
    </body>
</html>